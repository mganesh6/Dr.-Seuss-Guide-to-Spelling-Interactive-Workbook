/**
 * IncorrectWords.java
 * 
 * Holds a PriorityQueue of the misspelled words from
 * the spelling exercises of all of the pages. The 
 * misspelled words are dequeued from highest number 
 * of attempts to lowest. The collection is then 
 * displayed at the end of the interactive storybook.
 * 
 * 
 * @author Mathangi Ganesh
 * Modified Date: 5-9-2016
 * 
 */


import javafoundations.*;


public class IncorrectWords{
  
 
  private PriorityQueue<Word> incWords;
  
  /**
   * Constructor.
   * 
   * Initializes the PriorityQueue of Word objects
   * 
   * @author Mathangi Ganesh
   * 
   */
  public IncorrectWords(){
    incWords = new PriorityQueue<Word>();
  }
  
  /**
   * @param w Enqueues Word w to the PriorityQueue 
   * only if the word is not already in queue.
   * 
   * @author Mathangi Ganesh
   */
  public void addIncorrectWord(Word w){
    
    int size = incWords.size();
    boolean add = true;
    LinkedQueue<Word> temp = new LinkedQueue<Word>();
    
    //Fills temp queue
    for(int i = 0; i < size; i++){
      
      temp.enqueue(incWords.dequeue());
      
    }
    
    /*Checks to make sure that word does not 
     *already exist in queue.
     */
    for(int i = 0; i < size; i++){
      
      Word w1 = temp.dequeue();
      incWords.enqueue(w1);
      
      if(w.getWord().equals(w1.getWord())){
        
        add = false;
        
      }
      
    }
    
    //Only adds if word is not in queue
    if(add){
      incWords.enqueue(w);
    }
    
  }

  /**
   * @return Returns the PriorityQueue
   * @author Mathangi Ganesh
   */
  public PriorityQueue<Word> getQueue(){
    
    return incWords;
    
  }
  
  /**
   * @return Returns the String representation of the collection.
   * Traverses through the PriorityQueue to print out each Word
   * object
   * 
   * @author Mathangi Ganesh
   */
  public String toString(){
   
    String s = "";
    //Temporary queue created
    LinkedQueue<Word> temp = new LinkedQueue<Word>();
    int size = incWords.size();

    
    //Temp queue filled
    for(int i = 0; i < size; i++){
      
      temp.enqueue(incWords.dequeue());
    }
    
    //Word objects added to String s
    for(int i = 0; i < size; i++){
      
      Word w1 = temp.dequeue();
      System.out.println(w1);
      s += w1 + "\n";
      incWords.enqueue(w1);
      
    }
      
    return s;
  }
  
  //Basic testing
  public static void main(String [] args){
    
    IncorrectWords w = new IncorrectWords();
    
    w.addIncorrectWord(new Word("you", 6));
    w.addIncorrectWord(new Word("song", 8));
    w.addIncorrectWord(new Word("hello", 2));
    w.addIncorrectWord(new Word("hello", 3));
    System.out.println(w+ "\n");
    System.out.println(w ); 
  } 
}